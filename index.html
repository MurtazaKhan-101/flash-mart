<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Flash Mart</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
            integrity="sha384-h3TtZFc2UC00WLNb26e3OM5hBwSNO4S/FnFBO+T6hKPyMM3Ahd4df5vzIC4om5yo"
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="https://unicons.iconscout.com/release/v4.0.0/css/line.css"
        />
        <link
            href="https://fonts.googleapis.com/css?family=Oswald|Russo+One&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <!-- partial:index.partial.html -->
        <link
            rel="stylesheet"
            href="https://use.fontawesome.com/releases/v5.14.0/css/all.css"
        />
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        />

        <nav class="navbar navbar-dark navbar-expand-sm bg-dark fixed-top">
            <div class="container">
                <a href="index.html" class="navbar-brand navbar-no-highlight">
                    <!-- <i class="fas fa-blog"></i> &nbsp; -->
                    <!-- .𝗞𝗵𝗮𝗿𝗲𝗲𝗱𝗹𝗼 -->
                    <img style="width: 120px" src="FLash.png" alt="" />
                </a>

                <button
                    class="navbar-toggler"
                    type="button"
                    data-toggle="collapse"
                    data-target="#navbarCollapse"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div id="navbarCollapse" class="collapse navbar-collapse">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="index.html" class="nav-link active">
                                Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                href="#groceries-heading"
                                onclick="displayProducts('Groceries')"
                                class="nav-link active"
                            >
                                Groceries
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                href="#medicines-heading"
                                onclick="displayProducts('Medicines')"
                                class="nav-link active"
                            >
                                Medicines
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="Genie.html" class="nav-link active">
                                Genie
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="About.html" class="nav-link active"> About </a>
                        </li>
                        <li class="nav-item">
                            <a
                                href="#checkout"
                                onclick="showCheckout()"
                                class="nav-link active"
                            >
                                <div class="cart-info" id="cart-info">
                                    Cart: 0 items
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <script
                src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
                integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
                crossorigin="anonymous"
            ></script>
            <script
                src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
                integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
                crossorigin="anonymous"
            ></script>
            <script
                src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
                integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
                crossorigin="anonymous"
            ></script>
            <!-- partial -->
        </nav>

        <!-- <nav>
            <a href="#home">Home</a>
            <a href="#groceries" onclick="displayProducts('Groceries')">Groceries</a>
            <a href="#medicines" onclick="displayProducts('Medicines')">Medicines</a>
            <div class="cart-info" id="cart-info">Cart: 0 items</div>
            <a href="#checkout" onclick="showCheckout()">Checkout</a>
            <a href="#about">About</a>
        </nav> -->
        <div class="container-header">
            <div class="hero">
                <section class="hero-left hero-section" id="hero-left-mobile">
                    <h1 class="hero-heading">
                        Delivering Essentials, Elevating Convenience
                    </h1>
                    <p>
                        Experience the convenience of one-stop delivery –
                        groceries, medicines, and packages, all at your
                        doorstep, simplifying your life with every delivery.
                    </p>

                    <a href="About.html">About Us</a>
                </section>

                <section class="right">
                    <img
                        src="hero-rider-PhotoRoom.png"
                        alt="Hero illustration"
                    />
                </section>
            </div>
        </div>
        <section>
            <div class="search">
                <div class="input-box">
                    <i class="uil uil-search"></i>
                    <input
                        type="text"
                        id="search-input"
                        placeholder="Search your products here..."
                    />
                    <button class="button" onclick="searchAndNavigate()">
                        Search
                    </button>
                </div>
            </div>
        </section>
        <section id="groceries-heading" style="text-align: center">
            <h2>Groceries</h2>
        </section>
        <section>
            <h2>Groceries List</h2>
            <div class="list">
                <main>
                    <form action="" method="GET">
                        <h1>Add an item of your choice</h1>
                        <fieldset>
                            <dl>
                                <dt>
                                    <label for="item_name">Item name</label>
                                </dt>
                                <dd>
                                    <input
                                        type="text"
                                        name="item_name"
                                        id="item_name"
                                    />
                                </dd>
                                <dt>
                                    <label for="quantity">Quantity</label>
                                </dt>
                                <dd>
                                    <input
                                        type="text"
                                        name="quantity"
                                        id="quantity"
                                    />
                                </dd>
                            </dl>
                            <input type="submit" value="Add" />
                        </fieldset>
                    </form>
                    <h1>Groceries</h1>
                    <ul class="groceries-list"></ul>
                </main>
            </div>
        </section>
        <section id="groceries">
            <div class="product-container">
                <!-- Grocery product cards go here -->
            </div>
        </section>
        <section id="medicines-heading" style="text-align: center">
            <h2>Medicines</h2>
        </section>
        <section>
            <h2 class="list-title-mobile">Add Medicines List</h2>
            <div class="higher">
                <div class="wrapper">
                    <div class="box">
                        <div class="js--image-preview"></div>
                        <div class="upload-options">
                            <label>
                                <input
                                    type="file"
                                    class="image-upload"
                                    accept="image/*"
                                />
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="medicines">
            <h2>Medicines</h2>
            <div class="product-container">
                <!-- Medicine product cards go here -->
            </div>
        </section>

        <section id="checkout" class="checkout-section">
            <h2>Cart</h2>
            <p>Review your order before completing the checkout:</p>
            <ul id="cart-items">
                <!-- Cart items go here -->
            </ul>
            <label for="address">Address:</label>
            <input
                type="text"
                id="address"
                class="checkout-input"
                placeholder="Enter your address"
            />
            <label for="mobile">Mobile Number:</label>
            <input
                type="text"
                id="mobile"
                class="checkout-input"
                placeholder="Enter your mobile number"
            />
            <button class="checkout-button" onclick="completeCheckout()">
                Complete Checkout
            </button>
        </section>
        <div class="pg-footer">
            <footer class="footer">
                <svg
                    class="footer-wave-svg"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 1200 100"
                    preserveAspectRatio="none"
                >
                    <path
                        class="footer-wave-path"
                        d="M851.8,100c125,0,288.3-45,348.2-64V0H0v44c3.7-1,7.3-1.9,11-2.9C80.7,22,151.7,10.8,223.5,6.3C276.7,2.9,330,4,383,9.8 c52.2,5.7,103.3,16.2,153.4,32.8C623.9,71.3,726.8,100,851.8,100z"
                    ></path>
                </svg>
                <div class="footer-content">
                    <div class="footer-content-column">
                        <div class="footer-logo">
                            <a class="footer-logo-link logo-footer" href="#">
                                <span class="hidden-link-text">LOGO</span>
                                <!-- <h1>.Khareedlo</h1> -->
                                <img
                                    src="FLash.png"
                                    style="width: 194px"
                                    alt=""
                                />
                            </a>
                        </div>
                        <div class="footer-menu">
                            <h2 class="footer-menu-name">Get Started</h2>
                            <ul id="menu-get-started" class="footer-menu-list">
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-product"
                                >
                                    <a href="#">Start</a>
                                </li>
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-product"
                                >
                                    <a href="#">Documentation</a>
                                </li>
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-product"
                                >
                                    <a href="#">Installation</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-content-column">
                        <div class="footer-menu">
                            <h2 class="footer-menu-name">Company</h2>
                            <ul id="menu-company" class="footer-menu-list">
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-page"
                                >
                                    <a href="#">Contact</a>
                                </li>
                                <li
                                    class="menu-item menu-item-type-taxonomy menu-item-object-category"
                                >
                                    <a href="#">News</a>
                                </li>
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-page"
                                >
                                    <a href="#">Careers</a>
                                </li>
                            </ul>
                        </div>
                        <div class="footer-menu">
                            <h2 class="footer-menu-name">Legal</h2>
                            <ul id="menu-legal" class="footer-menu-list">
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-170434"
                                >
                                    <a href="#">Privacy Notice</a>
                                </li>
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-page"
                                >
                                    <a href="#">Terms of Use</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-content-column">
                        <div class="footer-menu">
                            <h2 class="footer-menu-name">Quick Links</h2>
                            <ul id="menu-quick-links" class="footer-menu-list">
                                <li
                                    class="menu-item menu-item-type-custom menu-item-object-custom"
                                >
                                    <a
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        href="#"
                                        >Support Center</a
                                    >
                                </li>
                                <li
                                    class="menu-item menu-item-type-custom menu-item-object-custom"
                                >
                                    <a
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        href="#"
                                        >Service Status</a
                                    >
                                </li>
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-page"
                                >
                                    <a href="#">Security</a>
                                </li>
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-page"
                                >
                                    <a href="#">Blog</a>
                                </li>
                                <li
                                    class="menu-item menu-item-type-post_type_archive menu-item-object-customer"
                                >
                                    <a href="#">Customers</a>
                                </li>
                                <li
                                    class="menu-item menu-item-type-post_type menu-item-object-page"
                                >
                                    <a href="#">Reviews</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-content-column">
                        <div class="footer-call-to-action">
                            <h2 class="footer-call-to-action-title">
                                Let's Chat
                            </h2>
                            <p class="footer-call-to-action-description">
                                Have a support question?
                            </p>
                            <a
                                class="footer-call-to-action-button button"
                                href="mailto:flashmart69@outlook.com"
                                target="_self"
                            >
                                Get in Touch
                            </a>
                        </div>
                        <div class="footer-call-to-action">
                            <h2 class="footer-call-to-action-title">
                                You Call Us
                            </h2>
                            <p class="footer-call-to-action-link-wrapper">
                                <a
                                    class="footer-call-to-action-link"
                                    href="tel:0124-64XXXX"
                                    target="_self"
                                >
                                    0369 6969699
                                </a>
                            </p>
                        </div>
                    </div>
                    <div class="footer-social-links" id="socials">
                        <i
                            class="fab fa-linkedin footer-social-icon linkedin"
                            aria-hidden="true"
                            style="font-size: 24px; margin-right: 10px"
                        ></i>
                        <a
                            class="footer-social-link linkedin"
                            href="#"
                            target="_blank"
                        >
                            <span class="hidden-link-text">Linkedin</span>
                        </a>

                        <i
                            class="fab fa-twitter footer-social-icon twitter"
                            aria-hidden="true"
                            style="font-size: 24px; margin-right: 10px"
                        ></i>
                        <a
                            class="footer-social-link twitter"
                            href="#"
                            target="_blank"
                        >
                            <span class="hidden-link-text">Twitter</span>
                        </a>

                        <i
                            class="fab fa-youtube footer-social-icon youtube"
                            aria-hidden="true"
                            style="font-size: 24px; margin-right: 10px"
                        ></i>
                        <a
                            class="footer-social-link youtube"
                            href="#"
                            target="_blank"
                        >
                            <span class="hidden-link-text">Youtube</span>
                        </a>

                        <i
                            class="fab fa-github footer-social-icon github"
                            aria-hidden="true"
                            style="font-size: 24px; margin-right: 10px"
                        ></i>
                        <a
                            class="footer-social-link github"
                            href="#"
                            target="_blank"
                        >
                            <span class="hidden-link-text">Github</span>
                        </a>
                    </div>
                </div>
                <div class="footer-copyright">
                    <div class="footer-copyright-wrapper">
                        <p class="footer-copyright-text">
                            <a
                                class="footer-copyright-link"
                                href="#"
                                target="_self"
                            >
                                ©2023. | Designed By: Murtaza Khan. | All rights
                                reserved.
                            </a>
                        </p>
                    </div>
                </div>
            </footer>
        </div>

        <script>
            const products = [
                {
                    id: 1,
                    name: "Veggie Basket",
                    category: "Groceries",
                    price: 899,
                    image: "vegieBasket-PhotoRoom.png",
                },
                {
                    id: 2,
                    name: "Oranges",
                    category: "Groceries",
                    price: 399,
                    image: "orange.jpg",
                },
                {
                    id: 3,
                    name: "Turmeric",
                    category: "Groceries",
                    price: 250,
                    image: "Turmeric-PhotoRoom.png",
                },
                {
                    id: 4,
                    name: "Aspirin",
                    category: "Medicines",
                    price: 150,
                    image: "Aspirin.jpg",
                },
                {
                    id: 5,
                    name: "First Aid",
                    category: "Medicines",
                    price: 4500,
                    image: "medKit.jpg",
                },
                {
                    id: 6,
                    name: "Bp Apparatus",
                    category: "Medicines",
                    price: 6700,
                    image: "bp-PhotoRoom.png",
                },
                // Add more products
            ];

            let cart = [];

            function displayProducts(category) {
                const productsContainer = document.getElementById(
                    category.toLowerCase()
                );
                productsContainer.innerHTML = "";

                const categoryProducts = products.filter(
                    (product) => product.category === category
                );

                categoryProducts.forEach((product) => {
                    const productCard = document.createElement("div");
                    productCard.className = "product-card";
                    productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <div class="product-details">
                        <h3>${product.name}</h3>
                        <p>Rs.${product.price.toFixed(2)}</p>
                        <button class="add-to-cart-button" onclick="addToCart(${
                            product.id
                        })">Add to Cart</button>
                    </div>
                `;
                    productsContainer.appendChild(productCard);
                });
            }

            function searchAndNavigate() {
                const searchTerm = document
                    .getElementById("search-input")
                    .value.toLowerCase();
                const foundProduct = products.find(
                    (product) => product.name.toLowerCase() === searchTerm
                );

                if (foundProduct) {
                    const category = foundProduct.category.toLowerCase();
                    const productsSection = document.getElementById(category);
                    window.scrollTo({
                        top: productsSection.offsetTop,
                        behavior: "smooth",
                    });
                } else {
                    alert("Product not found.");
                }
            }
            function addToCart(productId) {
                const selectedProduct = products.find(
                    (product) => product.id === productId
                );
                cart.push(selectedProduct);
                updateCartDisplay();
            }

            // function updateCartDisplay() {
            //     const cartItemsContainer =
            //         document.getElementById("cart-items");
            //     const cartInfo = document.getElementById("cart-info");

            //     cartItemsContainer.innerHTML = "";
            //     cartInfo.textContent = `Cart: ${cart.length} items`;

            //     cart.forEach((item, index) => {
            //         const cartItemElement = document.createElement("li");
            //         cartItemElement.className = "cart-item";
            //         cartItemElement.innerHTML = `
            //     <span>${item.name} - $${item.price.toFixed(2)}</span>
            //     <button class="delete-button" onclick="removeCartItem(${index})">
            //         Remove
            //     </button>
            // `;
            //         cartItemsContainer.appendChild(cartItemElement);
            //     });

            //     // // Show checkout section when items are in the cart
            //     // const checkoutSection = document.getElementById("checkout");
            //     // checkoutSection.classList.toggle("active", cart.length > 0);
            // }

            function updateCartDisplay() {
                const cartItemsContainer =
                    document.getElementById("cart-items");
                const cartInfo = document.getElementById("cart-info");
                const $ul = $(".groceries-ul");

                cartItemsContainer.innerHTML = "";
                $ul.empty();
                cartInfo.textContent = `Cart: ${cart.length} items`;

                cart.forEach((item, index) => {
                    const cartItemElement = document.createElement("li");
                    cartItemElement.className = "cart-item";
                    const itemPrice = item.price
                        ? `Rs.${item.price.toFixed(2)}`
                        : "Price not available";
                    cartItemElement.innerHTML = `
                        <span>${item.name} - ${itemPrice}</span>
                        <button class="delete-button" onclick="removeCartItem(${index})">
                            Remove
                        </button>
                    `;
                    cartItemsContainer.appendChild(cartItemElement);

                    // Display items in the <ul> for checkout
                    // $ul.append(
                    //     `<li class="${item.className}">${item.quantity} ${item.name}</li>`
                    // );
                });

                // const checkoutSection = document.getElementById("checkout");
                // checkoutSection.classList.toggle("active", cart.length > 0);
            }

            function removeCartItem(index) {
                cart.splice(index, 1);
                updateCartDisplay();
            }

            function completeCheckout() {
                const address = document.getElementById("address").value;
                const mobile = document.getElementById("mobile").value;

                if (address && mobile) {
                    const newPageUrl = "order_placed.html";
                    window.open(newPageUrl, "_self");

                    // Simulate clearing the cart after checkout
                    cart = [];
                    updateCartDisplay();
                } else {
                    alert(
                        "Please enter both address and mobile number before completing the checkout."
                    );
                }
            }

            function showCheckout() {
                const checkoutSection = document.getElementById("checkout");
                checkoutSection.classList.toggle("active");
            }

            //Initial setup
            displayProducts("Groceries"); // Display groceries by default
            displayProducts("Medicines"); // Display medicines by default

            // Initialize image upload for medicines
            function initImageUpload(box) {
                let uploadField = box.querySelector(".image-upload");

                uploadField.addEventListener("change", getFile);

                function getFile(e) {
                    let file = e.currentTarget.files[0];
                    checkType(file);
                    addToCartWithImage(file);
                }

                function previewImage(file) {
                    let thumb = box.querySelector(".js--image-preview"),
                        reader = new FileReader();

                    reader.onload = function () {
                        thumb.style.backgroundImage =
                            "url(" + reader.result + ")";
                    };
                    reader.readAsDataURL(file);
                    thumb.className += " js--no-default";
                }

                function checkType(file) {
                    let imageType = /image.*/;
                    if (!file.type.match(imageType)) {
                        throw "Datei ist kein Bild";
                    } else if (!file) {
                        throw "Kein Bild gewählt";
                    } else {
                        previewImage(file);
                    }
                }

                function addToCartWithImage(imageFile) {
                    const selectedProduct = {
                        id: cart.length + 1,
                        name: "Custom Medicine",
                        category: "Medicines",
                        price: 0.0,
                        image: imageFile,
                    };

                    cart.push(selectedProduct);
                    updateCartDisplay();
                }
            }

            /// drop-effect
            function initDropEffect(box) {
                let area,
                    drop,
                    areaWidth,
                    areaHeight,
                    maxDistance,
                    dropWidth,
                    dropHeight,
                    x,
                    y;

                // get clickable area for drop effect
                area = box.querySelector(".js--image-preview");
                area.addEventListener("click", fireRipple);

                function fireRipple(e) {
                    area = e.currentTarget;
                    // create drop
                    if (!drop) {
                        drop = document.createElement("span");
                        drop.className = "drop";
                        this.appendChild(drop);
                    }
                    // reset animate class
                    drop.className = "drop";

                    // calculate dimensions of area (longest side)
                    areaWidth = getComputedStyle(this, null).getPropertyValue(
                        "width"
                    );
                    areaHeight = getComputedStyle(this, null).getPropertyValue(
                        "height"
                    );
                    maxDistance = Math.max(
                        parseInt(areaWidth, 10),
                        parseInt(areaHeight, 10)
                    );

                    // set drop dimensions to fill area
                    drop.style.width = maxDistance + "px";
                    drop.style.height = maxDistance + "px";

                    // calculate dimensions of drop
                    dropWidth = getComputedStyle(this, null).getPropertyValue(
                        "width"
                    );
                    dropHeight = getComputedStyle(this, null).getPropertyValue(
                        "height"
                    );

                    // calculate relative coordinates of click
                    // logic: click coordinates relative to page - parent's position relative to page - half of self height/width to make it controllable from the center
                    x = e.pageX - this.offsetLeft - parseInt(dropWidth, 10) / 2;
                    y =
                        e.pageY -
                        this.offsetTop -
                        parseInt(dropHeight, 10) / 2 -
                        30;

                    // position drop and animate
                    drop.style.top = y + "px";
                    drop.style.left = x + "px";
                    drop.className += " animate";
                    e.stopPropagation();
                }
            }
            // Initialize image upload for each medicine box
            const medicineBoxes = document.querySelectorAll(".box");
            medicineBoxes.forEach((box) => {
                initImageUpload(box);
                initDropEffect(box);
            });
            // Add this script to handle the navigation to the checkout section
            function navigateToCheckout() {
                showCheckout();
                const checkoutSection = document.getElementById("checkout");
                checkoutSection.classList.toggle("active");
            }

            // Update the "Checkout" nav link to call navigateToCheckout
            const checkoutNavLink = document.querySelector(
                '.nav-link[href="#checkout"]'
            );
            checkoutNavLink.addEventListener("click", navigateToCheckout);

            // $(function() {
            //     var $ul = $(".groceries-ul");

            //     function addItem(name, quantity, className) {
            //         // Append the <li> with the specified class name
            //         $ul.append("<li class='" + className + "'>" + quantity + " " + name + "</li>");
            //     }

            //     $("form").submit(function(e) {
            //         e.preventDefault();

            //         var $f = $(this),
            //             item = $f.find("#item_name").val(),
            //             quantity = $f.find("#quantity").val() || 1,
            //             className = $f.find("#list_item").val(); // Add an input field for the class name

            //         addItem(item, quantity, className);
            //         $f.get(0).reset();
            //     });
            // });

            $(function () {
                var $ul = $(".groceries-list");

                function addItem(name, quantity, className) {
                    $ul.append(
                        "<li class='" +
                            className +
                            "'>" +
                            quantity +
                            " " +
                            name +
                            "</li>"
                    );

                    const newItem = {
                        id: cart.length + 1,
                        name: name,
                        quantity: quantity,
                        className: className,
                    };

                    cart.push(newItem);
                    updateCartDisplay();
                }

                $("form").submit(function (e) {
                    e.preventDefault();

                    var $f = $(this),
                        item = $f.find("#item_name").val(),
                        quantity = $f.find("#quantity").val() || 1,
                        className = $f.find("#list_item").val();

                    addItem(item, quantity, className);
                    $f.get(0).reset();
                });
            });
        </script>
    </body>
</html>
